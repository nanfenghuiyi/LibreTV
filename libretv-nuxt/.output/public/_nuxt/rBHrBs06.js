import{_ as M}from"./c4BBwVTV.js";import{B as E,g as _,r as y,k as F,c as v,o as m,a as t,b as h,w as A,d as U,C as k,s as C,D as S,p as o,E as D,G as $,m as H,H as b,F as I,v as B,t as w,A as P,I as T}from"./BDTMUK-m.js";import{u as f}from"./DMcEoGVc.js";const R=E("/image/logo.png"),q={class:"flex flex-col items-center justify-center py-6"},J={class:"text-center mb-8"},K={class:"w-full max-w-2xl px-4"},O={class:"flex items-stretch h-14 shadow-lg rounded-lg overflow-hidden border border-[#333]"},G={class:"flex-1 relative"},Q=_({__name:"NavBar",emits:["search"],setup(a,{emit:c}){const s=y(""),n=F(),u=()=>{s.value.trim()&&n.push({path:"/",query:{s:s.value}})};return(p,e)=>{const l=M;return m(),v("nav",q,[t("div",J,[h(l,{to:"/",class:"flex items-center justify-center mb-4 group"},{default:A(()=>[...e[2]||(e[2]=[t("img",{src:R,alt:"Logo",class:"w-10 h-10 mr-2 group-hover:scale-110 transition-transform"},null,-1),t("h1",{class:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}," LibreTV ",-1)])]),_:1}),e[3]||(e[3]=t("p",{class:"text-gray-400"},"自由观影，畅享精彩",-1))]),t("div",K,[t("div",O,[h(l,{to:"/",class:"w-20 sm:w-24 flex items-center justify-center bg-white text-black font-medium hover:bg-gray-200 transition-colors"},{default:A(()=>[...e[4]||(e[4]=[U(" 首页 ",-1)])]),_:1}),t("div",G,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>$(s)?s.value=i:null),onKeyup:D(u,["enter"]),type:"text",class:"w-full h-full bg-[#111] text-white px-6 focus:outline-none placeholder-gray-500",placeholder:"搜索你喜欢的视频..."},null,544),[[S,o(s)]]),o(s)?(m(),v("button",{key:0,onClick:e[1]||(e[1]=i=>s.value=""),class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"},[...e[5]||(e[5]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):C("",!0)]),t("button",{onClick:u,class:"w-20 sm:w-24 flex items-center justify-center bg-white text-black font-medium hover:bg-gray-200 transition-colors"}," 搜索 ")])])])}}}),W=()=>{const a=f("customSources",()=>[]),c=f("showAdult",()=>!1),s=f("filterAds",()=>!0),n=f("showDouban",()=>!0),u=()=>{{const i=localStorage.getItem("customApis");if(i)try{a.value=JSON.parse(i)}catch{}c.value=localStorage.getItem("yellowFilter")!=="true",s.value=localStorage.getItem("adFilteringEnabled")!=="false",n.value=localStorage.getItem("doubanEnabled")!=="false"}},p=(i,g,d=!1)=>{a.value.push({name:i,url:g,isAdult:d}),l()},e=i=>{a.value.splice(i,1),l()},l=()=>{localStorage.setItem("customApis",JSON.stringify(a.value)),localStorage.setItem("yellowFilter",(!c.value).toString()),localStorage.setItem("adFilteringEnabled",s.value.toString()),localStorage.setItem("doubanEnabled",n.value.toString())};return{customSources:a,showAdult:c,filterAds:s,showDouban:n,loadSettings:u,addSource:p,removeSource:e,saveSettings:l}},X={class:"flex justify-between items-center mb-6"},Y={class:"space-y-6"},Z={class:"p-4 bg-[#1a1a1a] rounded-lg"},tt={class:"flex items-center justify-between mb-4"},et={class:"flex items-center justify-between"},st={class:"p-4 bg-[#1a1a1a] rounded-lg"},ot={class:"space-y-2 mb-4 max-h-40 overflow-y-auto"},lt={class:"truncate pr-2"},nt=["onClick"],rt={key:0,class:"text-gray-500 text-xs text-center py-2"},at={class:"space-y-2"},it=_({__name:"SettingsPanel",props:{show:{type:Boolean}},emits:["close"],setup(a,{emit:c}){const{customSources:s,showAdult:n,filterAds:u,addSource:p,removeSource:e,saveSettings:l,loadSettings:i}=W(),g=y(""),d=y("");H(()=>{i()});const N=()=>{n.value=!n.value,l()},V=()=>{u.value=!u.value,l()},z=()=>{g.value&&d.value&&(p(g.value,d.value),g.value="",d.value="")};return(L,r)=>(m(),v("div",{class:b(["fixed right-0 top-0 h-full w-80 bg-[#111] border-l border-[#333] p-6 z-40 overflow-y-auto transform transition-transform duration-300",a.show?"translate-x-0":"translate-x-full"])},[t("div",X,[r[3]||(r[3]=t("h3",{class:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"},"设置",-1)),t("button",{onClick:r[0]||(r[0]=x=>L.$emit("close")),class:"text-gray-400 hover:text-white"},"×")]),t("div",Y,[t("div",Z,[r[6]||(r[6]=t("h4",{class:"text-gray-400 text-sm font-medium mb-3 border-b border-[#333] pb-2"},"功能开关",-1)),t("div",tt,[r[4]||(r[4]=t("div",null,[t("div",{class:"text-white text-sm"},"显示成人内容"),t("div",{class:"text-xs text-gray-500"},'开启后包含 "黄色资源"')],-1)),t("button",{onClick:N,class:b([o(n)?"bg-pink-600":"bg-[#333]","w-12 h-6 rounded-full relative transition-colors"])},[t("div",{class:b([o(n)?"translate-x-6":"translate-x-1","absolute top-1 w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)]),t("div",et,[r[5]||(r[5]=t("div",null,[t("div",{class:"text-white text-sm"},"广告过滤"),t("div",{class:"text-xs text-gray-500"},"减少播放器广告")],-1)),t("button",{onClick:V,class:b([o(u)?"bg-pink-600":"bg-[#333]","w-12 h-6 rounded-full relative transition-colors"])},[t("div",{class:b([o(u)?"translate-x-6":"translate-x-1","absolute top-1 w-4 h-4 bg-white rounded-full transition-transform"])},null,2)],2)])]),t("div",st,[r[7]||(r[7]=t("h4",{class:"text-gray-400 text-sm font-medium mb-3 border-b border-[#333] pb-2"},"自定义数据源",-1)),t("div",ot,[(m(!0),v(I,null,B(o(s),(x,j)=>(m(),v("div",{key:j,class:"flex justify-between items-center bg-[#222] p-2 rounded text-xs text-white"},[t("span",lt,w(x.name),1),t("button",{onClick:St=>o(e)(j),class:"text-red-500 hover:text-red-400"},"×",8,nt)]))),128)),o(s).length===0?(m(),v("div",rt,"暂无自定义源")):C("",!0)]),t("div",at,[k(t("input",{"onUpdate:modelValue":r[1]||(r[1]=x=>$(g)?g.value=x:null),placeholder:"源名称",class:"w-full bg-[#222] border border-[#333] rounded px-2 py-1 text-xs text-white"},null,512),[[S,o(g)]]),k(t("input",{"onUpdate:modelValue":r[2]||(r[2]=x=>$(d)?d.value=x:null),placeholder:"API 地址 (http...)",class:"w-full bg-[#222] border border-[#333] rounded px-2 py-1 text-xs text-white"},null,512),[[S,o(d)]]),t("button",{onClick:z,class:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded py-1 text-xs"},"添加源")])])])],2))}}),ut={class:"flex justify-between items-center mb-6"},dt={class:"space-y-4 overflow-y-auto max-h-[80vh]"},ct={key:0,class:"text-center text-gray-500 py-8"},gt=["onClick"],pt=["src"],vt={class:"flex-1 min-w-0"},mt={class:"text-white text-sm font-medium truncate"},xt={class:"text-gray-500 text-xs mt-1"},bt={class:"text-gray-600 text-xs mt-auto"},ft=_({__name:"HistoryPanel",props:{show:{type:Boolean}},emits:["close"],setup(a,{emit:c}){const s=y([]),n=()=>{s.value=[],localStorage.removeItem("watchHistory")},u=p=>{P({path:"/play",query:{url:p.url,title:p.title}})};return H(()=>{}),(p,e)=>(m(),v("div",{class:b(["fixed left-0 top-0 h-full bg-[#111] border-r border-[#333] p-6 z-40 transform transition-transform duration-300 w-80",a.show?"translate-x-0":"-translate-x-full"])},[t("div",ut,[t("button",{onClick:e[0]||(e[0]=l=>p.$emit("close")),class:"text-gray-400 hover:text-white"},"×"),e[1]||(e[1]=t("h3",{class:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"},"观看历史",-1)),e[2]||(e[2]=t("div",{class:"w-4"},null,-1))]),t("div",dt,[o(s).length===0?(m(),v("div",ct,"暂无观看记录")):C("",!0),(m(!0),v(I,null,B(o(s),(l,i)=>(m(),v("div",{key:i,class:"bg-[#1a1a1a] p-3 rounded flex gap-3 cursor-pointer hover:bg-[#222]",onClick:g=>u(l)},[t("img",{src:l.cover,class:"w-16 h-24 object-cover rounded bg-gray-800 flex-shrink-0"},null,8,pt),t("div",vt,[t("div",mt,w(l.title),1),t("div",xt,"观看至: "+w(l.progress||"0%"),1),t("div",bt,w(l.time),1)])],8,gt))),128))]),t("div",{class:"absolute bottom-0 left-0 w-full p-4 bg-[#111] border-t border-[#333]"},[t("button",{onClick:n,class:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded py-2 text-sm shadow-lg hover:opacity-90"},"清空历史记录")])],2))}}),ht=()=>{const a=f("showSettings",()=>!1),c=f("showHistory",()=>!1);return{showSettings:a,showHistory:c,toggleSettings:()=>a.value=!a.value,toggleHistory:()=>c.value=!c.value}},wt={class:"min-h-screen bg-[#0a0a0a] text-white font-sans"},yt={class:"fixed top-4 left-4 z-10"},_t={class:"fixed top-4 right-4 z-10"},kt={class:"container mx-auto px-4 pb-20"},At=_({__name:"default",setup(a){const{showSettings:c,showHistory:s,toggleSettings:n,toggleHistory:u}=ht();return(p,e)=>{const l=Q,i=it,g=ft;return m(),v("div",wt,[t("div",yt,[t("button",{onClick:e[0]||(e[0]=(...d)=>o(u)&&o(u)(...d)),class:"bg-[#222] hover:bg-[#333] border border-[#333] rounded-lg px-3 py-1.5 transition-colors"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),t("div",_t,[t("button",{onClick:e[1]||(e[1]=(...d)=>o(n)&&o(n)(...d)),class:"bg-[#222] hover:bg-[#333] border border-[#333] rounded-lg px-3 py-1.5 transition-colors"},[...e[5]||(e[5]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),h(l),t("main",kt,[T(p.$slots,"default")]),h(i,{show:o(c),onClose:e[2]||(e[2]=d=>c.value=!1)},null,8,["show"]),h(g,{show:o(s),onClose:e[3]||(e[3]=d=>s.value=!1)},null,8,["show"]),e[6]||(e[6]=t("footer",{class:"border-t border-[#333] py-6 mt-10 bg-[#000]"},[t("div",{class:"container mx-auto px-4 text-center text-gray-500 text-sm"},[t("p",null,"© 2025 LibreTV - 自由观影，畅享精彩"),t("p",{class:"mt-2"},"免责声明：本站仅为视频搜索工具，不存储任何内容。")])],-1))])}}});export{At as default};
